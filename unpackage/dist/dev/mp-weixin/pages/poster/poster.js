(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/poster/poster"],{77:function(e,t,n){"use strict";(function(e,t){var o=n(4);n(26);o(n(25));var r=o(n(78));e.__webpack_require_UNI_MP_PLUGIN__=n,t(r.default)}).call(this,n(1)["default"],n(2)["createPage"])},78:function(e,t,n){"use strict";n.r(t);var o=n(79),r=n(81);for(var a in r)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(a);n(83);var i,c=n(32),s=Object(c["default"])(r["default"],o["render"],o["staticRenderFns"],!1,null,"132a9d26",null,!1,o["components"],i);s.options.__file="pages/poster/poster.vue",t["default"]=s.exports},79:function(e,t,n){"use strict";n.r(t);var o=n(80);n.d(t,"render",(function(){return o["render"]})),n.d(t,"staticRenderFns",(function(){return o["staticRenderFns"]})),n.d(t,"recyclableRender",(function(){return o["recyclableRender"]})),n.d(t,"components",(function(){return o["components"]}))},80:function(e,t,n){"use strict";var o;n.r(t),n.d(t,"render",(function(){return r})),n.d(t,"staticRenderFns",(function(){return i})),n.d(t,"recyclableRender",(function(){return a})),n.d(t,"components",(function(){return o}));try{o={uniPopup:function(){return n.e("uni_modules/uni-popup/components/uni-popup/uni-popup").then(n.bind(null,221))}}}catch(c){if(-1===c.message.indexOf("Cannot find module")||-1===c.message.indexOf(".vue"))throw c;console.error(c.message),console.error("1. 排查组件名称拼写是否正确"),console.error("2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom"),console.error("3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件")}var r=function(){var e=this,t=e.$createElement;e._self._c},a=!1,i=[];r._withStripped=!0},81:function(e,t,n){"use strict";n.r(t);var o=n(82),r=n.n(o);for(var a in o)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(a);t["default"]=r.a},82:function(e,t,n){"use strict";(function(e,n){function o(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=r(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var o=0,a=function(){};return{s:a,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return c=e.done,e},e:function(e){s=!0,i=e},f:function(){try{c||null==n.return||n.return()}finally{if(s)throw i}}}}function r(e,t){if(e){if("string"===typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={data:function(){return{poster:{cover:"/static/poster/cover.png",avatar:"/static/poster/avatar.png",qrcode:"/static/poster/qrcode.png",goodsName:"华晨宝马 X1 2021款 改款 sDrive20Li 尊享型 华晨宝马 X1 2021款 改款 sDrive20Li 尊享型",price:"298800.00",username:"欧阳海鸥",plainText1:"邀请体验小程序"},canvas:{width:"0",height:"0"}}},onLoad:function(){console.log("个人中心 onLoad")},onShow:function(){console.log("个人中心 onShow")},methods:{handleOpen:function(){this.$refs.popup.open()},handleClose:function(){this.$refs.popup.close()},handleButton:function(){var t,r,a=this,i=e.createCanvasContext("myCanvas"),c=n.createSelectorQuery().in(this);c.select("#container").fields({dataset:!0,rect:!0,size:!0,computedStyle:["background-color","border-radius"]},(function(e){console.log("fields",e),a.canvas.width=e.width+"px",a.canvas.height=e.height+"px",t=e.top,r=e.left,a.drawRoundRect(i,0,0,e.width,e.height,2*parseInt(e["border-radius"]),e["background-color"])})),c.selectAll("#container .canvas-image").fields({dataset:!0,rect:!0,size:!0,computedStyle:["border-radius"]},(function(e){console.log("image",e),e.map((function(e){a.drawRoundImg(i,e.dataset.image,e.left-r,e.top-t,e.width,e.height,parseInt(e["border-radius"]))}))})),c.selectAll("#container .canvas-text").fields({rect:!0,size:!0,dataset:!0,computedStyle:["color","font-family","font-weight","font-size","line-height","font"]},(function(e){console.log("text",e),e.map((function(e){var n="700"===e["font-weight"]?"bold":"normal";i.font="normal ".concat(n," ").concat(e["font-size"]," ").concat(e["font-family"]),i.setFillStyle(e.color),i.setFontSize(parseInt(e["font-size"])),i.setTextAlign();var a,c=e.dataset.text,s="",u="",l=0,f=o(c);try{for(f.s();!(a=f.n()).done;){var d=a.value;s+=d,u=i.measureText(s).width,u>e.width&&(i.fillText(s,e.left-r,e.top-t+parseInt(e["line-height"])-5+l),s="",l+=parseInt(e["line-height"]))}}catch(p){f.e(p)}finally{f.f()}s&&i.fillText(s,e.left-r,e.top-t+parseInt(e["line-height"])-5+l)}))})),c.exec(),setTimeout((function(){i.draw()}),200)},drawRoundRect:function(e,t,n,o,r,a,i){e.save(),e.beginPath(),e.setFillStyle(i),e.setStrokeStyle(i),e.setLineJoin("round"),e.setLineWidth(a),e.strokeRect(t+a/2,n+a/2,o-a,r-a),e.fillRect(t+a,n+a,o-2*a,r-2*a),e.stroke(),e.closePath()},drawRoundImg:function(e,t,n,o,r,a,i){e.beginPath(),e.save(),e.arc(n+i,o+i,i,Math.PI,1.5*Math.PI),e.arc(n+r-i,o+i,i,1.5*Math.PI,2*Math.PI),e.arc(n+r-i,o+a-i,i,0,.5*Math.PI),e.arc(n+i,o+a-i,i,.5*Math.PI,Math.PI),e.stroke(),e.clip(),e.drawImage(t,n,o,r,a),e.restore(),e.closePath()}}};t.default=i}).call(this,n(2)["default"],n(1)["default"])},83:function(e,t,n){"use strict";n.r(t);var o=n(84),r=n.n(o);for(var a in o)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(a);t["default"]=r.a},84:function(e,t,n){}},[[77,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/poster/poster.js.map