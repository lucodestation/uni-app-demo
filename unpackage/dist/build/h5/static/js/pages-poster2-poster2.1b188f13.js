(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-poster2-poster2"],{"0aeb":function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("ac1f"),n("cb29"),n("d3b7"),n("acd8");var a=r(n("3835")),o=r(n("b85c")),i=r(n("c7eb")),s=r(n("1da1")),c=(r(n("b501")),r(n("c85f"))),u={data:function(){return{posterData:{goodsinfo:{image:"http://4s.duowencaiwu.com/uploads/20211229/2e5d7899d065551f989feeae2d36c7e0.jpg",name:"适用于通用汽车雨刮雨刷器喷水管玻璃水连接管橡胶软管三通直通y型t接头 黑色橡胶管2米配接头各2个",partsgoods_id:13,price:"0.01"},qrcode:"https://res.wx.qq.com/wxdoc/dist/assets/img/demo.ef5c5bef.jpg",userinfo:{avatar:"http://4s.duowencaiwu.com/uploads/20211214/5796f9c97e25bcfd6bee9e58dec3d581.png",nickname:"卢先生"}},tempFilePath:"",myCanvasWidth:0,myCanvasHeight:0,text:"this is a test this is a test this is a test this is a test this is a test this is a test this is a test "}},onLoad:function(){return(0,s.default)((0,i.default)().mark((function e(){return(0,i.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},methods:{handleDrawPoster:function(){var e=this;return(0,s.default)((0,i.default)().mark((function t(){var n,r;return(0,i.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:uni.showLoading({mask:!0}),n=c.default.init("myCanvas",e),r=uni.createSelectorQuery().in(e),r.select("#container").fields({id:!0,dataset:!0,rect:!0,size:!0,computedStyle:["background-color","border-radius"]}),r.selectAll("#container .canvas-image").fields({id:!0,dataset:!0,rect:!0,size:!0,computedStyle:["border-radius"]}),r.selectAll("#container .canvas-text").fields({id:!0,dataset:!0,rect:!0,size:!0,computedStyle:["font-size","font-weight","font-family","color","line-height"]}),r.select("#container .qrcode-wrap").fields({id:!0,dataset:!0,rect:!0,size:!0,computedStyle:["background-color","border-radius"]}),r.exec(function(){var t=(0,s.default)((0,i.default)().mark((function t(r){var u,l,f,d,h,p,v,m,b,g,y,w,x,k,P,_;return(0,i.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log("exec",r),u=r[0],e.myCanvasWidth=u.width,e.myCanvasHeight=u.height,l=u.top,f=u.left,t.next=8,c.default.drawFillRect({x:0,y:0,width:u.width,height:u.height,backgroundColor:u["background-color"],borderRadius:u["border-radius"]});case 8:d=r[3],n.save(),n.beginPath(),n.setShadow(0,0,7,"rgba(102, 102, 102, 0.05)"),n.arc(d.left-f+d.width/2,d.top-l+d.height/2,d.width/2,0,2*Math.PI),n.setFillStyle(d["background-color"]),n.fill(),n.closePath(),h=r[1],p=(0,o.default)(h),t.prev=18,p.s();case 20:if((v=p.n()).done){t.next=32;break}return m=v.value,t.next=24,uni.getImageInfo({src:m.dataset.image});case 24:return b=t.sent,g=(0,a.default)(b,2),g[0],y=g[1],t.next=30,c.default.drawImage({image:y.path,x:m.left-f,y:m.top-l,width:m.width,height:m.height,borderRadius:m["border-radius"]});case 30:t.next=20;break;case 32:t.next=37;break;case 34:t.prev=34,t.t0=t["catch"](18),p.e(t.t0);case 37:return t.prev=37,p.f(),t.finish(37);case 40:w=r[2],x=(0,o.default)(w),t.prev=42,x.s();case 44:if((k=x.n()).done){t.next=52;break}return P=k.value,_={text:P.dataset.text,x:P.left-f,y:P.top-l+parseFloat(P["line-height"])-5,color:P["color"],fontFamily:P["font-family"],fontWeight:"700"===P["font-weight"]?"bold":"normal",fontSize:P["font-size"],lineHeight:P["line-height"]},P.dataset.maxLine&&(_.maxLine=P.dataset.maxLine,_.maxWidth=P.width),t.next=50,c.default.drawText(_);case 50:t.next=44;break;case 52:t.next=57;break;case 54:t.prev=54,t.t1=t["catch"](42),x.e(t.t1);case 57:return t.prev=57,x.f(),t.finish(57);case 60:return console.log("开始绘制"),t.next=63,c.default.draw(function(){var e=(0,s.default)((0,i.default)().mark((function e(t){return(0,i.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log(t),console.log("开始保存"),e.next=4,c.default.save(t).finally((function(){uni.hideLoading()})).then((function(){uni.showToast({title:"已保存到相册",icon:"none"})}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){uni.hideLoading()}));case 63:case"end":return t.stop()}}),t,null,[[18,34,37,40],[42,54,57,60]])})));return function(e){return t.apply(this,arguments)}}());case 8:case"end":return t.stop()}}),t)})))()}}};t.default=u},"1da1":function(e,t,n){"use strict";function r(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,a)}n("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(){var t=this,n=arguments;return new Promise((function(a,o){var i=e.apply(t,n);function s(e){r(i,a,o,s,c,"next",e)}function c(e){r(i,a,o,s,c,"throw",e)}s(void 0)}))}},n("d3b7")},"1e91":function(e,t,n){"use strict";n.r(t);var r=n("0aeb"),a=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t["default"]=a.a},2061:function(e,t,n){"use strict";var r=n("5ec5"),a=n.n(r);a.a},"35d3":function(e,t,n){"use strict";var r=n("a6c9"),a=n.n(r);a.a},4792:function(e,t,n){"use strict";n.r(t);var r=n("59df"),a=n("1e91");for(var o in a)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(o);n("2061"),n("35d3");var i=n("f0c5"),s=Object(i["a"])(a["default"],r["b"],r["c"],!1,null,"708abb56",null,!1,r["a"],void 0);t["default"]=s.exports},"59df":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",[n("v-uni-view",{staticClass:"wrap"},[n("v-uni-view",{staticClass:"container",attrs:{id:"container"}},[n("v-uni-view",{staticClass:"goods-image-wrap"},[n("v-uni-image",{staticClass:"canvas-image",attrs:{"data-image":e.posterData.goodsinfo.image,src:e.posterData.goodsinfo.image}})],1),n("v-uni-view",{staticClass:"title-wrap"},[n("v-uni-view",{staticClass:"canvas-text ell2",attrs:{"data-text":e.posterData.goodsinfo.name,"data-max-line":"2"}},[e._v(e._s(e.posterData.goodsinfo.name))])],1),n("v-uni-view",{staticClass:"price-wrap"},[n("v-uni-text",{staticClass:"rmb canvas-text",attrs:{"data-text":"￥"}},[e._v("￥")]),n("v-uni-text",{staticClass:"price canvas-text",attrs:{"data-text":e.posterData.goodsinfo.price}},[e._v(e._s(e.posterData.goodsinfo.price))])],1),n("v-uni-view",{staticClass:"userinfo-wrap"},[n("v-uni-view",{staticClass:"avatar-wrap"},[n("v-uni-image",{staticClass:"canvas-image",attrs:{"data-image":e.posterData.userinfo.avatar,src:e.posterData.userinfo.avatar,mode:""}})],1),n("v-uni-view",{staticClass:"nickname-wrap"},[n("v-uni-view",{staticClass:"nickname canvas-text",attrs:{"data-text":e.posterData.userinfo.nickname}},[e._v(e._s(e.posterData.userinfo.nickname))]),n("v-uni-view",{staticClass:"prompt-text canvas-text",attrs:{"data-text":"邀请体验小程序"}},[e._v("邀请体验小程序")])],1),n("v-uni-view",{staticClass:"qrcode-wrap"},[n("v-uni-image",{staticClass:"qrcode canvas-image",attrs:{"data-image":e.posterData.qrcode,src:e.posterData.qrcode,mode:""}})],1)],1)],1)],1),n("v-uni-view",[n("v-uni-button",{on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.handleDrawPoster.apply(void 0,arguments)}}},[e._v("button1")])],1),n("v-uni-view",{staticClass:"canvas-wrap"},[n("v-uni-canvas",{staticClass:"my-canvas",style:{width:e.myCanvasWidth+"px",height:e.myCanvasHeight+"px"},attrs:{id:"myCanvas","canvas-id":"myCanvas"}})],1)],1)},a=[]},"5ec5":function(e,t,n){var r=n("b740");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var a=n("4f06").default;a("05e9741b",r,!0,{sourceMap:!1,shadowMode:!1})},6514:function(e,t,n){var r=n("24fb");t=r(!1),t.push([e.i,"uni-image[data-v-708abb56]{vertical-align:bottom}.wrap[data-v-708abb56]{padding:%?30?%;background-color:#ff69b4}.container[data-v-708abb56]{\r\n  /* background-color: #edf; */background-color:#fff;width:calc(%?750?% - %?30?% - %?30?%);padding-bottom:%?30?%;border-radius:%?10?%;position:relative;line-height:%?42?%}.container .close-icon[data-v-708abb56]{position:absolute;width:%?22?%;height:%?22?%;top:0;right:0;margin:%?30?%}.goods-image-wrap uni-image[data-v-708abb56]{width:100%;height:%?480?%;border-radius:%?10?%}.title-wrap[data-v-708abb56]{padding:0 %?30?%;padding-top:%?40?%;font-weight:700;font-size:%?30?%;color:#333;line-height:%?46?%\r\n  /* background-color: #efefef; */}.price-wrap[data-v-708abb56]{padding:%?30?%;color:#fe3b3b;font-size:%?24?%;font-weight:700;line-height:%?50?%\r\n  /* background-color: #fee; */}.hr2[data-v-708abb56]{height:%?4?%;background-color:#f5f5f5}.userinfo-wrap[data-v-708abb56]{padding:0 %?30?%;display:flex;align-items:center\r\n  /* background-color: pink; */}.avatar-wrap uni-image[data-v-708abb56]{width:%?88?%;height:%?88?%;border-radius:%?44?%}.nickname-wrap[data-v-708abb56]{flex:1;padding:0 %?20?%;height:%?88?%;\r\n  /* background-color: hotpink; */display:flex;flex-direction:column;justify-content:space-around}.nickname-wrap .nickname[data-v-708abb56]{font-size:%?30?%;color:#333}.nickname-wrap .prompt-text[data-v-708abb56]{color:#999;font-size:%?26?%}.qrcode-wrap[data-v-708abb56]{position:relative;width:%?120?%;height:%?120?%;border-radius:%?60?%;background-color:#fff;box-shadow:0 0 7px 0 hsla(0,0%,40%,.05);\r\n  /* box-shadow: 0px 0px 7px 0px rgba(102, 102, 102); */display:flex;justify-content:center;align-items:center\r\n  /* outline: 2rpx solid red; */}.qrcode-wrap .qrcode[data-v-708abb56]{width:%?68?%;height:%?68?%\r\n  /* outline: 2rpx solid red; */}.button-wrap[data-v-708abb56]{margin-top:%?30?%;display:flex;justify-content:center;align-items:center}.button[data-v-708abb56]{width:%?550?%;line-height:%?100?%;text-align:center;background:#f9c949;border-radius:%?50?%;color:#333;font-size:%?30?%}.result-wrap[data-v-708abb56]{padding:%?30?%;background-color:#eee}.canvas-wrap[data-v-708abb56]{background-color:pink;padding:%?30?%}",""]),e.exports=t},a6c9:function(e,t,n){var r=n("6514");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var a=n("4f06").default;a("28d65ec8",r,!0,{sourceMap:!1,shadowMode:!1})},ac60:function(e,t,n){(function(t,n){e.exports=n()})(0,(function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.i=function(e){return e},n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=13)}([function(e,t,n){"use strict";var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};e.exports={type:function(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()},isObject:function(e,t){return t?"object"===this.type(e):e&&"object"===("undefined"===typeof e?"undefined":r(e))},isFormData:function(e){return"undefined"!==typeof FormData&&e instanceof FormData},trim:function(e){return e.replace(/(^\s*)|(\s*$)/g,"")},encode:function(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")},formatParams:function(e){var t="",n=!0,r=this;if(!this.isObject(e))return e;return function e(a,o){var i=r.encode,s=r.type(a);if("array"==s)a.forEach((function(t,n){r.isObject(t)||(n=""),e(t,o+"%5B"+n+"%5D")}));else if("object"==s)for(var c in a)e(a[c],o?o+"%5B"+i(c)+"%5D":i(c));else n||(t+="&"),n=!1,t+=o+"="+i(a)}(e,""),t},merge:function(e,t){for(var n in t)e.hasOwnProperty(n)?this.isObject(t[n],1)&&this.isObject(e[n],1)&&this.merge(e[n],t[n]):e[n]=t[n];return e}}},function(e,t,n){var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o=n(0),i="undefined"!==typeof document;e.exports=function(e){var t=function(){function t(){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,t),this.requestHeaders={},this.readyState=0,this.timeout=0,this.responseURL="",this.responseHeaders={}}return a(t,[{key:"_call",value:function(e){this[e]&&this[e].apply(this,[].splice.call(arguments,1))}},{key:"_changeReadyState",value:function(e){this.readyState=e,this._call("onreadystatechange")}},{key:"open",value:function(e,t){if(this.method=e,t){if(t=o.trim(t),0!==t.indexOf("http")&&i){var n=document.createElement("a");n.href=t,t=n.href}}else t=location.href;this.responseURL=t,this._changeReadyState(1)}},{key:"send",value:function(t){var n=this;t=t||null;var a=this;if(e){var s={method:a.method,url:a.responseURL,headers:a.requestHeaders||{},body:t};o.merge(s,a._options||{}),"GET"===s.method&&(s.body=null),a._changeReadyState(3);var c=void 0;a.timeout=a.timeout||0,a.timeout>0&&(c=setTimeout((function(){3===a.readyState&&(n._call("onloadend"),a._changeReadyState(0),a._call("ontimeout"))}),a.timeout)),s.timeout=a.timeout,e(s,(function(e){function t(t){var n=e[t];return delete e[t],n}if(3===a.readyState){clearTimeout(c),a.status=t("statusCode")-0;var n=t("responseText"),o=t("statusMessage");if(a.status){var s=t("headers"),u={};for(var l in s){var f=s[l],d=l.toLowerCase();"object"===("undefined"===typeof f?"undefined":r(f))?u[d]=f:(u[d]=u[d]||[],u[d].push(f))}var h=u["set-cookie"];i&&h&&h.forEach((function(e){document.cookie=e.replace(/;\s*httpOnly/gi,"")})),a.responseHeaders=u,a.statusText=o||"",a.response=a.responseText=n,a._response=e,a._changeReadyState(4),a._call("onload")}else a.statusText=n,a._call("onerror",{msg:o});a._call("onloadend")}}))}else console.error("Ajax require adapter")}},{key:"setRequestHeader",value:function(e,t){this.requestHeaders[o.trim(e)]=t}},{key:"getResponseHeader",value:function(e){return(this.responseHeaders[e.toLowerCase()]||"").toString()||null}},{key:"getAllResponseHeaders",value:function(){var e="";for(var t in this.responseHeaders)e+=t+":"+this.getResponseHeader(t)+"\r\n";return e||null}},{key:"abort",value:function(e){this._changeReadyState(0),this._call("onerror",{msg:e}),this._call("onloadend")}}],[{key:"setAdapter",value:function(t){e=t}}]),t}();return t}},function(e,t,n){var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var a=n(0),o="undefined"!==typeof document,i=function(){function e(t){function n(e){var t=void 0,n=void 0;function r(){e.p=t=n=null}a.merge(e,{lock:function(){t||(e.p=new Promise((function(e,r){t=e,n=r})))},unlock:function(){t&&(t(),r())},clear:function(){n&&(n("cancel"),r())}})}(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.engine=t||XMLHttpRequest,this.default=this;var r=this.interceptors={response:{use:function(e,t){this.handler=e,this.onerror=t}},request:{use:function(e){this.handler=e}}},o=r.request,i=r.response;n(i),n(o),this.config={method:"GET",baseURL:"",headers:{},timeout:0,params:{},parseJson:!0,withCredentials:!1}}return r(e,[{key:"request",value:function(e,t,n){var r=this,i=new this.engine,s="Content-Type".toLowerCase(),c=this.interceptors,u=c.request,l=c.response,f=u.handler,d=new Promise((function(c,d){function h(e){return e&&e.then&&e.catch}function p(e,t){e?e.then((function(){t()})):t()}a.isObject(e)&&(n=e,e=n.url),n=n||{},n.headers=n.headers||{},p(u.p,(function(){a.merge(n,JSON.parse(JSON.stringify(r.config)));var v=n.headers;v["Content-Type"]=v["Content-Type"]||v[s]||"",delete v[s],n.body=t||n.body,e=a.trim(e||""),n.method=n.method.toUpperCase(),n.url=e;var m=n;f&&(m=f.call(u,n,Promise)||n),h(m)||(m=Promise.resolve(m)),m.then((function(r){r===n?function(n){t=n.body,e=a.trim(n.url);var r=a.trim(n.baseURL||"");if(e||!o||r||(e=location.href),0!==e.indexOf("http")){var u="/"===e[0];if(!r&&o){var f=location.pathname.split("/");f.pop(),r=location.protocol+"//"+location.host+(u?"":f.join("/"))}if("/"!==r[r.length-1]&&(r+="/"),e=r+(u?e.substr(1):e),o){var v=document.createElement("a");v.href=e,e=v.href}}var m=a.trim(n.responseType||""),b=-1!==["GET","HEAD","DELETE","OPTION"].indexOf(n.method),g=a.type(t),y=n.params||{};b&&"object"===g&&(y=a.merge(t,y)),y=a.formatParams(y);var w=[];y&&w.push(y),b&&t&&"string"===g&&w.push(t),w.length>0&&(e+=(-1===e.indexOf("?")?"?":"&")+w.join("&")),i.open(n.method,e);try{i.withCredentials=!!n.withCredentials,i.timeout=n.timeout||0,"stream"!==m&&(i.responseType=m)}catch(C){}var x=n.headers["Content-Type"]||n.headers[s],k="application/x-www-form-urlencoded";for(var P in a.trim((x||"").toLowerCase())===k?t=a.formatParams(t):a.isFormData(t)||-1===["object","array"].indexOf(a.type(t))||(k="application/json;charset=utf-8",t=JSON.stringify(t)),x||b||(n.headers["Content-Type"]=k),n.headers)if("Content-Type"===P&&a.isFormData(t))delete n.headers[P];else try{i.setRequestHeader(P,n.headers[P])}catch(C){}function _(e,t,r){p(l.p,(function(){if(e){r&&(t.request=n);var a=e.call(l,t,Promise);t=void 0===a?t:a}h(t)||(t=Promise[0===r?"resolve":"reject"](t)),t.then((function(e){c(e)})).catch((function(e){d(e)}))}))}function S(e){e.engine=i,_(l.onerror,e,-1)}function T(e,t){this.message=e,this.status=t}i.onload=function(){try{var e=i.response||i.responseText;e&&n.parseJson&&-1!==(i.getResponseHeader("Content-Type")||"").indexOf("json")&&!a.isObject(e)&&(e=JSON.parse(e));var t=i.responseHeaders;if(!t){t={};var r=(i.getAllResponseHeaders()||"").split("\r\n");r.pop(),r.forEach((function(e){if(e){var n=e.split(":")[0];t[n]=i.getResponseHeader(n)}}))}var o=i.status,s=i.statusText,c={data:e,headers:t,status:o,statusText:s};if(a.merge(c,i._response),o>=200&&o<300||304===o)c.engine=i,c.request=n,_(l.handler,c,0);else{var u=new T(s,o);u.response=c,S(u)}}catch(u){S(new T(u.msg,i.status))}},i.onerror=function(e){S(new T(e.msg||"Network Error",0))},i.ontimeout=function(){S(new T("timeout [ "+i.timeout+"ms ]",1))},i._options=n,setTimeout((function(){i.send(b?null:t)}),0)}(r):c(r)}),(function(e){d(e)}))}))}));return d.engine=i,d}},{key:"all",value:function(e){return Promise.all(e)}},{key:"spread",value:function(e){return function(t){return e.apply(null,t)}}}]),e}();i.default=i,["get","post","put","patch","head","delete"].forEach((function(e){i.prototype[e]=function(t,n,r){return this.request(t,n,a.merge({method:e},r))}})),["lock","unlock","clear"].forEach((function(e){i.prototype[e]=function(){this.interceptors.request[e]()}})),e.exports=i},,,,,function(e,t,n){"use strict";e.exports=function(e,t){var n={method:e.method,url:e.url,dataType:e.dataType||void 0,header:e.headers,data:e.body||{},responseType:e.responseType||"text",success:function(e){t({statusCode:e.statusCode,responseText:e.data,headers:e.header,statusMessage:e.errMsg})},fail:function(e){t({statusCode:e.statusCode||0,statusMessage:e.errMsg})}};wx.request(n)}},,,,,,function(e,t,n){"use strict";var r=n(2),a=n(1),o=n(7),i=a(o);e.exports=function(e){return new r(e||i)}}])}))},b1f8:function(e,t,n){"use strict";n("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){throw new TypeError('"'+e+'" is read-only')},n("d9e2"),n("d401")},b501:function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("d3b7");var a=r(n("ac60")),o=new a.default;o.config.baseURL="http://localhost:3030/api",o.interceptors.request.use((function(e){return console.log("请求拦截器"),e})),o.interceptors.response.use((function(e){return console.log("响应拦截器 response"),e.data}),(function(e){return console.log("响应拦截器 error",e),Promise.resolve(!1)}));var i=o;t.default=i},b740:function(e,t,n){var r=n("24fb");t=r(!1),t.push([e.i,".ell1[data-v-708abb56]{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.ell2[data-v-708abb56]{overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2}.ell3[data-v-708abb56]{overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:3}",""]),e.exports=t},b85c:function(e,t,n){"use strict";n("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=(0,r.default)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var a=0,o=function(){};return{s:o,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){c=!0,i=e},f:function(){try{s||null==n["return"]||n["return"]()}finally{if(c)throw i}}}},n("a4d3"),n("e01a"),n("d3b7"),n("d28b"),n("3ca3"),n("ddb0"),n("d9e2"),n("d401");var r=function(e){return e&&e.__esModule?e:{default:e}}(n("06c5"))},c7eb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){
/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */
t.default=function(){return e};var e={},n=Object.prototype,a=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},s=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(L){l=function(e,t,n){return e[t]=n}}function f(e,t,n,r){var a=t&&t.prototype instanceof p?t:p,i=Object.create(a.prototype),s=new C(r||[]);return o(i,"_invoke",{value:P(e,n,s)}),i}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(L){return{type:"throw",arg:L}}}e.wrap=f;var h={};function p(){}function v(){}function m(){}var b={};l(b,s,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(j([])));y&&y!==n&&a.call(y,s)&&(b=y);var w=m.prototype=p.prototype=Object.create(b);function x(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){var n;o(this,"_invoke",{value:function(o,i){function s(){return new t((function(n,s){(function n(o,i,s,c){var u=d(e[o],e,i);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==(0,r.default)(f)&&a.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,s,c)}),(function(e){n("throw",e,s,c)})):t.resolve(f).then((function(e){l.value=e,s(l)}),(function(e){return n("throw",e,s,c)}))}c(u.arg)})(o,i,n,s)}))}return n=n?n.then(s,s):s()}})}function P(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return O()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var s=_(i,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=d(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===h)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function _(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator["return"]&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var a=d(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,h;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function j(e){if(e){var t=e[s];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(a.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:O}}function O(){return{value:void 0,done:!0}}return v.prototype=m,o(w,"constructor",{value:m,configurable:!0}),o(m,"constructor",{value:v,configurable:!0}),v.displayName=l(m,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,u,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},x(k.prototype),l(k.prototype,c,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new k(f(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},x(w),l(w,u,"Generator"),l(w,s,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=j,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(T),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=a.call(o,"catchLoc"),c=a.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;T(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:j(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},e},n("7a82"),n("a4d3"),n("e01a"),n("d3b7"),n("d28b"),n("3ca3"),n("ddb0"),n("b636"),n("944a"),n("0c47"),n("23dc"),n("3410"),n("d9e2"),n("d401"),n("14d9"),n("159b"),n("131a"),n("26e9"),n("fb6a");var r=function(e){return e&&e.__esModule?e:{default:e}}(n("53ca"))},c85f:function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n("c7eb")),o=r(n("1da1")),i=r(n("b1f8"));n("d3b7"),n("acd8"),n("cb29"),n("e25e"),n("99af");var s={},c=null,u="",l=void 0;s.init=function(e,t){return c=uni.createCanvasContext(e,t),u=e,l=t,c},s.drawFillRect=function(e){return new Promise((function(t,n){var r=parseFloat(e.x),a=parseFloat(e.y),o=parseFloat(e.width),s=parseFloat(e.height),u=parseFloat(e.borderRadius)||0,l=e.backgroundColor||"#000",f=void 0;e.setShadow&&(f=e.setShadow),(o<2*u||s<2*u)&&(Math.min(o,s),(0,i.default)("borderRadius")),c.save(),c.beginPath(),c.arc(r+u,a+u,u,Math.PI,1.5*Math.PI),c.lineTo(r+Math.abs(o-u),a),c.arc(r+Math.abs(o-u),a+u,u,1.5*Math.PI,2*Math.PI),c.lineTo(r+o,a+Math.abs(s-u)),c.arc(r+Math.abs(o-u),a+Math.abs(s-u),u,0,.5*Math.PI),c.lineTo(r+u,a+s),c.arc(r+u,a+Math.abs(s-u),u,.5*Math.PI,Math.PI),c.lineTo(r,a+u),f?c.setShadow(f):c.setShadow(0,0,0,"#fff"),c.setFillStyle(l),c.fill(),c.closePath(),t()}))},s.drawImage=function(e){return new Promise(function(){var t=(0,o.default)((0,a.default)().mark((function t(n,r){var o,s,u,l,f,d,h;return(0,a.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return o=e.image,s=parseFloat(e.x),u=parseFloat(e.y),l=parseFloat(e.width),f=parseFloat(e.height),d=parseFloat(e.borderRadius)||0,h=void 0,e.setShadow&&(h=e.setShadow),(l<2*d||f<2*d)&&(Math.min(l,f),(0,i.default)("borderRadius")),c.save(),c.beginPath(),c.arc(s+d,u+d,d,Math.PI,1.5*Math.PI),c.arc(s+Math.abs(l-d),u+d,d,1.5*Math.PI,2*Math.PI),c.arc(s+Math.abs(l-d),u+Math.abs(f-d),d,0,.5*Math.PI),c.arc(s+d,u+Math.abs(f-d),d,.5*Math.PI,Math.PI),c.setStrokeStyle("rgba(0,0,0,0)"),c.stroke(),c.clip(),c.closePath(),t.next=21,c.drawImage(o,s,u,l,f);case 21:h?c.setShadow(h):c.setShadow(0,0,0,"#fff"),c.restore(),c.closePath(),n();case 25:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}())},s.drawText=function(){var e=(0,o.default)((0,a.default)().mark((function e(t){return(0,a.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){var r=t.text,a=t.x,o=t.y,i=t.color||"#000",s=t.fontStyle||"normal",u=t.fontVariant||"normal",l=t.fontWeight||"normal",f=parseFloat(t.fontSize)||16,d=parseFloat(t.lineHeight)||21,h=t.fontFamily||"sans-serif",p=void 0;t.maxWidth&&(p=parseFloat(t.maxWidth));var v=void 0;t.maxLine&&(v=parseInt(t.maxLine));var m=void 0;if(t.setShadow&&(m=t.setShadow),c.font="".concat(s," ").concat(u," ").concat(l," ").concat(f,"px ").concat(h),c.setFillStyle(i),v){for(var b="",g=1,y=0,w=0,x=r.length;w<x;w++)if(b+=r[w],c.measureText(b+r[w+1]).width>p&&g<v)c.fillText(b,a,o+y),b="",g++,y+=d;else if(void 0!==r[w+1]&&c.measureText(b+r[w+1]).width>p&&g>=v){c.fillText(b.substr(0,b.length-1)+"...",a,o+y),b="";break}b&&c.fillText(b,a,o+y),m?c.setShadow(m):c.setShadow(0,0,0,"#fff")}else c.fillText(r,a,o);e()})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s.draw=function(e){return new Promise((function(t,n){c.draw(!1,(function(){uni.canvasToTempFilePath({canvasId:u,success:function(n){console.log("canvasToTempFilePath success",n),t(n.tempFilePath),e&&e(n.tempFilePath)},fail:function(e){console.log("canvasToTempFilePath error",e),n(e)}},l)}))}))},s.save=function(e){return new Promise((function(t,n){uni.saveImageToPhotosAlbum({filePath:e,success:function(e){console.log("saveImageToPhotosAlbum success",e),t(e)},fail:function(e){console.log("saveImageToPhotosAlbum error",e),n(e)}})}))};var f=s;t.default=f}}]);